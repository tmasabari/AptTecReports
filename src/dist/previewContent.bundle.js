(()=>{"use strict";function e(e,r,a,n,o){var i="tblReport"+r,s='<table id="'+i+'" class="dataTable display" width="100%"></table>';o.append(s);const l=n?e.reportData.Data[n]:e.reportData.Data;a.filter((function(e){return e.maxLength&&e.maxLength>0})).forEach((e=>{var t,r,a;t=l,r=e.field,a=e.maxLength,t.forEach((e=>{e[r]&&e[r].length>a&&(e[r]=e[r].substring(0,a))}))}));const d={info:!1,ordering:!1,paging:!1,searching:!1,data:l,columns:t(e,a)};$("#"+i).DataTable(d)}function t(e,t){t=t.map((e=>({field:"object"==typeof e?e.field:e,displayName:"object"==typeof e?e.displayName:e,columnSize:"object"==typeof e&&e.columnSize?e.columnSize:100/t.length+"%",format:"object"==typeof e&&e.format?e.format:""})));for(let r=0;r<t.length;r++){const a=t[r];if(a.data=a.field,a.title=a.displayName,a.width=a.columnSize,"object"==typeof a&&a.format){const t=a.format.toLowerCase();a.render=e.customFunctions[t]}}return t}var r=window.parent.aptTecReports;window.onload=function(){$.fn.dataTable.ext.errMode="none",$(".content .dataTable").on("error.dt",(function(e,t,r,a){console.error("An error has been reported by DataTables: ",a)}));const t=$(".content");var a=1;if(r.ReportParams.Content)for(let o=0;o<r.ReportParams.Content.length;o++){const i=r.ReportParams.Content[o];if(Object.prototype.hasOwnProperty.call(i,"ContentHtml")){const e=r.replacePlaceholders(i.ContentHtml,r.reportData.CommonData);t.append(e)}else if(Object.prototype.hasOwnProperty.call(i,"TableContent")&&Array.isArray(i.TableContent)){const o=i.DataSource;var n=i.TableContent.filter((function(e){return!0===e.isPrint}));e(r,a,n,o,t),a++}}window.PagedPolyfill.preview()}})(),(()=>{class e extends Paged.Handler{constructor(e,t,r){super(e,t,r),this.splitTablesRefs=[]}afterPageLayout(e,t,r,a){if(this.chunker=a,this.splitTablesRefs=[],r){const t=r.node,n=this.findAllAncestors(t,"table");if("TABLE"===t.tagName&&n.push(t),n.length>0){this.splitTablesRefs=n.map((e=>e.dataset.ref));let o="THEAD"===t.tagName?t:this.findFirstAncestor(t,"thead");if(o){let e=o.hasChildNodes()?o.lastChild:o;r.node=this.nodeAfter(e,a.source)}this.hideEmptyTables(e,t)}}}hideEmptyTables(e,t){this.splitTablesRefs.forEach((r=>{let a=e.querySelector("[data-ref='"+r+"']");if(a){let e=a.querySelector("tbody > tr");if(!e||this.refEquals(e.firstElementChild,t)){a.style.visibility="hidden",a.style.position="absolute";let e=a.nextSibling;e&&(e.style.visibility="hidden",e.style.position="absolute")}}}))}refEquals(e,t){return e&&e.dataset&&t&&t.dataset&&e.dataset.ref===t.dataset.ref}findFirstAncestor(e,t){for(;e.parentNode&&1===e.parentNode.nodeType;){if(e.parentNode.matches(t))return e.parentNode;e=e.parentNode}return null}findAllAncestors(e,t){const r=[];for(;e.parentNode&&1===e.parentNode.nodeType;)e.parentNode.matches(t)&&r.unshift(e.parentNode),e=e.parentNode;return r}layout(e,t){this.splitTablesRefs.forEach((t=>{const r=e.querySelector("[data-ref='"+t+"']");if(r&&!r.getAttribute("repeated-headers")){const e=this.chunker.source.querySelector("[data-ref='"+t+"']");this.repeatColgroup(e,r),this.repeatTHead(e,r),r.setAttribute("repeated-headers",!0)}}))}repeatColgroup(e,t){let r=e.querySelectorAll("colgroup"),a=t.firstChild;r.forEach((e=>{let r=e.cloneNode(!0);t.insertBefore(r,a)}))}repeatTHead(e,t){let r=e.querySelector("thead");if(r){let e=r.cloneNode(!0);t.insertBefore(e,t.firstChild)}}nodeAfter(e,t){if(t&&e===t)return;let r=this.nextSignificantNode(e);if(r)return r;if(e.parentNode)for(;e=e.parentNode;){if(t&&e===t)return;if(r=this.nextSignificantNode(e),r)return r}}nextSignificantNode(e){for(;e=e.nextSibling;)if(!this.isIgnorable(e))return e;return null}isIgnorable(e){return 8===e.nodeType||3===e.nodeType&&this.isAllWhitespace(e)}isAllWhitespace(e){return!/[^\t\n\r ]/.test(e.textContent)}}Paged.registerHandlers(e)})();
//# sourceMappingURL=previewContent.bundle.js.map